{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","btnAuth","document","getElementById","txtSearchContent","btnSearch","dspSearchResults","imageNotFound","renderResult","objResult","thumbnail","snippet","thumbnails","medium","url","node","createElement","innerHTML","title","description","id","videoId","urlAuth","encodeURIComponent","accessToken","param","sQueryString","URL","split","searchParams","URLSearchParams","has","e","getParamFromUrl","disabled","addEventListener","event","preventDefault","window","location","href","searchContent","fetch","urlSearch","method","headers","Headers","Accept","Content-Type","Authorization","then","data","json","result","objResults","items","appendChild","console","log","showResults","catch","error","objError"],"mappings":"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAjB,GACAY,OAAAC,eAAAb,EAAA,cAAiDkB,OAAA,KAIjDpB,EAAAqB,EAAA,SAAAlB,GACA,IAAAS,EAAAT,KAAAmB,WACA,WAA2B,OAAAnB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAU,EAAAC,GAAsD,OAAAV,OAAAW,UAAAC,eAAAnB,KAAAgB,EAAAC,IAGtDxB,EAAA2B,EAAA,QAIA3B,IAAA4B,EAAA,kCClEA,IAAIC,EAAUC,SAASC,eAAe,WAClCC,EAAmBF,SAASC,eAAe,oBAC3CE,EAAYH,SAASC,eAAe,aACpCG,EAAmBJ,SAASC,eAAe,oBAC3CI,EAAgB,2BA6BpB,SAASC,EAAaC,GAClB,IAAIC,SACsCA,EAA1CD,EAAUE,QAAQC,WAAWC,OAAOC,IAAkBL,EAAUE,QAAQC,WAAWC,OAAOC,IAAkBP,EAC5G,IAAIQ,EAAOb,SAASc,cAAc,WAKlC,OAJAD,EAAKE,UAAL,OAAwBR,EAAUE,QAAQO,MAA1C,6CACiCR,EADjC,sEAEoCD,EAAUE,QAAQQ,YAFtD,2EAGgEV,EAAUW,GAAGC,QAH7E,4BAION,EAKX,IAIIO,oMAHeC,mBAAmB,iEAGlC,yGAEAC,EA7CJ,SAAyBC,GACrB,IACI,IAAIC,EAAexB,SAASyB,IAAIC,MAAM,KAAK,IAAM1B,SAASyB,IAAIC,MAAM,KAAK,GACrEC,EAAe,IAAIC,gBAAgBJ,GAEvC,OAAIG,EAAaE,IAAIN,GACVI,EAAavC,IAAImC,GAEjB,GACd,MAAMO,GACH,OAAO,GAmCGC,CAAgB,iBAAmB,GACjC,KAAhBT,GACAvB,EAAQiC,UAAW,EACnB7B,EAAU6B,UAAW,IAErBjC,EAAQiC,UAAW,EACnB7B,EAAU6B,UAAW,GAGzBjC,EAAQkC,iBAAiB,QAAQ,SAAAC,GAC7BA,EAAMC,iBACNC,OAAOC,SAASC,KAAOlB,IAK3BjB,EAAU8B,iBAAiB,QAAQ,WAC/B,IAAIM,EAAgBlB,mBAAmBnB,EAAiBZ,OAMxDkD,MAFIC,kDAA8DF,EAA9D,+BAGAG,OAAO,MACPC,QAAS,IAAIC,SACTC,OAAU,mBACVC,eAAgB,mBAChBC,cAAiB,UAAYzB,MAGhC0B,KAAK,SAAAC,GACFA,EAAKC,OAAOF,KAAK,SAAAG,IA5D7B,SAAqBC,GACjBhD,EAAiBW,UAAY,GAC7B,IACI,IAAI,IAAIzC,KAAK8E,EAAWC,MACpBjD,EAAiBkD,YAAYhD,EAAa8C,EAAWC,MAAM/E,KAClE,MAAMwD,GACHyB,QAAQC,IAAI1B,IAuDJ2B,CAAYN,OAGnBO,MAAM,SAAAC,GApEf,IAA2BC,IAqEGD,EApE1BJ,QAAQC,IAAII,GACZxD,EAAiBW,UAAY","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"build\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","//Get HTML elements\r\nlet btnAuth = document.getElementById(\"btnAuth\");\r\nlet txtSearchContent = document.getElementById(\"txtSearchContent\");\r\nlet btnSearch = document.getElementById(\"btnSearch\");\r\nlet dspSearchResults = document.getElementById(\"dspSearchResults\");\r\nlet imageNotFound = \"images/imagenotfound.png\";\r\n\r\n//Functions\r\nfunction getParamFromUrl(param){\r\n    try{\r\n        let sQueryString = document.URL.split(\"#\")[1] || document.URL.split(\"?\")[1];\r\n        let searchParams = new URLSearchParams(sQueryString);\r\n\r\n        if (searchParams.has(param))\r\n            return searchParams.get(param);\r\n        else\r\n            return \"\";\r\n    }catch(e){\r\n        return false;\r\n    }\r\n}\r\nfunction showErrorMessages(objError) {\r\n    console.log(objError);\r\n    dspSearchResults.innerHTML = \"Data not found!\";\r\n}\r\nfunction showResults(objResults) {\r\n    dspSearchResults.innerHTML = \"\";\r\n    try{\r\n        for(let i in objResults.items)\r\n            dspSearchResults.appendChild(renderResult(objResults.items[i]));\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\nfunction renderResult(objResult) {\r\n    let thumbnail;\r\n    objResult.snippet.thumbnails.medium.url ? thumbnail = objResult.snippet.thumbnails.medium.url : thumbnail = imageNotFound;\r\n    let node = document.createElement(\"article\");\r\n    node.innerHTML = `<h3>${objResult.snippet.title}</h3>\r\n                      <p><img src=\"${thumbnail}\" alt=\"\" class=\"image\"></p>\r\n                      <p>Description: ${objResult.snippet.description}</p>\r\n                      <p><a href=\"https://www.youtube.com/watch?v=${objResult.id.videoId}\">View on Youtube</a></p>`;\r\n    return node;\r\n}\r\n\r\n//MAIN\r\n//-----Authorization the user-----\r\nlet client_id = \"50523264751-9vi8klbs55hcfu8h3d3g9h2uv8kli0b2.apps.googleusercontent.com\";\r\nlet redirect_uri = encodeURIComponent(\"https://nguyenkhois.github.io/advjs-youtubesearch/demo/purejs\");\r\nlet response_type = \"token\";\r\n\r\nlet urlAuth = `https://accounts.google.com/o/oauth2/v2/auth?scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fyoutube.readonly&include_granted_scopes=true&state=state_parameter_passthrough_value&redirect_uri=${redirect_uri}&response_type=${response_type}&client_id=${client_id}`;\r\n\r\nlet accessToken = getParamFromUrl('access_token') || \"\";\r\nif (accessToken === \"\"){\r\n    btnAuth.disabled = false;\r\n    btnSearch.disabled = true;\r\n}else{\r\n    btnAuth.disabled = true;\r\n    btnSearch.disabled = false;\r\n}\r\n\r\nbtnAuth.addEventListener(\"click\",event=>{\r\n    event.preventDefault();\r\n    window.location.href = urlAuth;\r\n});\r\n//-----End of authorization the user-----\r\n\r\n//-----Begin search from API-----\r\nbtnSearch.addEventListener(\"click\",()=>{\r\n    let searchContent = encodeURIComponent(txtSearchContent.value);\r\n    let maxResults = 10;\r\n    let part = \"snippet\";\r\n\r\n    let urlSearch = `https://www.googleapis.com/youtube/v3/search?q=${searchContent}&part=${part}&maxResults=${maxResults}`;\r\n\r\n    fetch(urlSearch,{\r\n        method:'GET',\r\n        headers: new Headers({\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Bearer ' + accessToken\r\n            })\r\n        })\r\n        .then(data=>{\r\n            data.json().then(result=>{\r\n                showResults(result);\r\n            })\r\n        })\r\n        .catch(error=>{\r\n            showErrorMessages(error);\r\n        });\r\n});\r\n//-----End of search from API-----\r\n"],"sourceRoot":""}